# 统一前端代码风格

> 使用STAR模型整理，项目[github](https://github.com/swing-hh/uni-mp-template)

## 原因

> 由于代码风格差异、编辑器差异、设置差异导致的开发开发问题，导致代码风格不统一

## 任务

1. 有哪些可以配置?
2. 配置项作用是什么?
3. 相互之间的冲突怎么解决?
4. 配置一套统一代码风格的配置后期使用

## 行动

### 可配置项介绍

> 由于涉及一些软件功能过于强大，只讲跟我们博文相关的功能

#### vscode 

* [vscode代码自动格式化](https://www.jianshu.com/p/5cdead935cf9)
* [vscode代码自动格式化配置](https://blog.csdn.net/weixin_40030173/article/details/99852236)

#### vscode vuter插件

* [官网](https://vuejs.github.io/vetur/)
* 语法错误检查，包括 CSS/SCSS/LESS/Javascript/TypeScript
* 语法高亮，包括 html/jade/pug css/sass/scss/less/stylus js/ts
* emmet 支持
* 代码自动补全（目前还是初级阶段），包括 HTML/CSS/SCSS/LESS/JavaScript/TypeScript
* 格式化程序可在vscode中vuter项中设置，也可以读取.prettierrc文件[格式化](https://vuejs.github.io/vetur/formatting.html#formatters)

#### eslint

* [官网](https://cn.eslint.org/) 
* 完全可配置javascript的代码检查工具
* 主要是读取.eslintrc.*文件  [.eslintrc.js文件配置](https://cn.eslint.org/docs/user-guide/configuring), package.json中也可以定eslintConfig属性进行配置
* [eslint rules配置规则](https://cn.eslint.org/docs/rules/)
* .eslintignore 忽略校验的文件和目录，或读取package.json中的eslintIgnore，package.json文件中也会有eslintIgnore文件可供配置，优先读取.eslintignore文件配置

> vscode eslint PK npm eslint

* vscode中的eslint是为了你在编辑器中编码不符合eslint规范的时候的提示。npm中的eslint是为了webpack打包的时候，检验代码是否符合eslint规范提示
* vscode eslint和npm eslint读取.eslintrc.js配置文件，生成规则

#### prettier

* [官网](https://prettier.io/)，参照[博客](https://zhuanlan.zhihu.com/p/81764012)
* 解决风格差异、编辑器差异、设置差异，只开放一些必须的设置
* 读取.prettierrc文件、.prettier.config.js、package.json中prettier属性

#### vscode Prettier - Code formatter插件

* 按照prettier代码格式化的程序，读取.prettierrc文件，[配置文档](https://prettier.io/docs/en/configuration.html)

#### lint-staged

* [lint-staged使用](https://www.cnblogs.com/jiaoshou/p/12250278.html)
* 每次修改一次文件就进行一次lint检查

#### .vscode/settings.json

* 保存当前工作区的配置，应用于不同的项目不同vscode配置

#### .editorconfig文件

* 有助于在不同的编辑器和 IDE 中保持一致的编码样式

### 配置项互相冲突

## 结果